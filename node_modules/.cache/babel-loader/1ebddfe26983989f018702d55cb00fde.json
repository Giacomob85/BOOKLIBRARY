{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Giacomo Bertini\\\\Desktop\\\\BOOKLIBRARY\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./index.css';import{InputGroup,Input,InputGroupAddon,Button,Spinner}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.min.css';import axios from'axios';import BookCard from'./Components/BookCard.js';import Footer from'./Components/Footer.js';function App(){// States\nvar _useState=useState(40),_useState2=_slicedToArray(_useState,1),maxResults=_useState2[0];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,1),startIndex=_useState4[0];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),query=_useState6[0],setQuery=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cards=_useState10[0],setCards=_useState10[1];// Handle Search\nvar handleSubmit=function handleSubmit(){setLoading(true);if(maxResults>40||maxResults<1){toast.error('max results must be between 1 and 40');}else{axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query,\"&maxResults=\").concat(maxResults,\"&startIndex=\").concat(startIndex)).then(function(res){if(startIndex>=res.data.totalItems||startIndex<1){toast.error(\"max reults must be between 1 and \".concat(res.data.totalItems));}else{if(res.data.items.length>0){setCards(res.data.items);setLoading(false);}}}).catch(function(err){setLoading(true);console.log(err.response);});}};// Main Show Case\nvar mainHeader=function mainHeader(){return/*#__PURE__*/React.createElement(\"div\",{className:\"main-image d-flex justify-content-center align-items-center flex-column\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"display-2 text-center text__style mb-3\",style:{zIndex:2}},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-dragon\"}),\"DragonBook\"),/*#__PURE__*/React.createElement(\"div\",{style:{width:'60%',zIndex:2}},/*#__PURE__*/React.createElement(InputGroup,{size:\"sm\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Input,{className:\"input__style\",placeholder:\"Cerca libri\",value:query,onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"append\"},/*#__PURE__*/React.createElement(Button,{className:\"input__style\",color:\"info\",onClick:handleSubmit},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-search\"}))))));};var handleCards=function handleCards(){if(loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3\"},/*#__PURE__*/React.createElement(Spinner,{style:{width:'3rem',height:'3rem'}}));}else{var items=cards.map(function(item,i){var thumbnail='';if(item.volumeInfo.imageLinks){thumbnail=item.volumeInfo.imageLinks.thumbnail;}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 mb-3\",key:item.id},/*#__PURE__*/React.createElement(BookCard,{thumbnail:thumbnail,title:item.volumeInfo.title,pageCount:item.volumeInfo.pageCount,language:item.volumeInfo.language,authors:item.volumeInfo.authors,publisher:item.volumeInfo.publisher,description:item.volumeInfo.description,previewLink:item.volumeInfo.previewLink,infoLink:item.volumeInfo.infoLink}));});return/*#__PURE__*/React.createElement(\"div\",{className:\"container my-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},items));}};return/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 h-100 page-container\"},mainHeader(),handleCards(),/*#__PURE__*/React.createElement(ToastContainer,null),/*#__PURE__*/React.createElement(Footer,null));}export default App;","map":{"version":3,"sources":["C:/Users/Giacomo Bertini/Desktop/BOOKLIBRARY/src/App.js"],"names":["React","useState","InputGroup","Input","InputGroupAddon","Button","Spinner","ToastContainer","toast","axios","BookCard","Footer","App","maxResults","startIndex","query","setQuery","loading","setLoading","cards","setCards","handleSubmit","error","get","then","res","data","totalItems","items","length","catch","err","console","log","response","mainHeader","zIndex","width","e","target","value","handleCards","height","map","item","i","thumbnail","volumeInfo","imageLinks","id","title","pageCount","language","authors","publisher","description","previewLink","infoLink"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './index.css';\r\nimport {InputGroup, Input, InputGroupAddon, Button, Spinner} from 'reactstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport axios from 'axios';\r\nimport BookCard from './Components/BookCard.js';\r\nimport Footer from './Components/Footer.js';\r\n\r\nfunction App() {\r\n  // States\r\n  const [maxResults] = useState(40);\r\n  const [startIndex] = useState(1);\r\n  const [query, setQuery] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  // Handle Search\r\n  const handleSubmit = () => {\r\n    setLoading(true);\r\n    if (maxResults > 40 || maxResults < 1) {\r\n      toast.error('max results must be between 1 and 40');\r\n    } else {\r\n      axios\r\n        .get(\r\n          `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=${maxResults}&startIndex=${startIndex}`\r\n        )\r\n        .then(res => {\r\n          if (startIndex >= res.data.totalItems || startIndex < 1) {\r\n            toast.error(\r\n              `max reults must be between 1 and ${res.data.totalItems}`\r\n            );\r\n          } else {\r\n            if (res.data.items.length > 0) {\r\n              setCards(res.data.items);\r\n              setLoading(false);\r\n            }\r\n          }\r\n        })\r\n        .catch(err => {\r\n          setLoading(true);\r\n          console.log(err.response);\r\n        });\r\n    }\r\n  };\r\n  // Main Show Case\r\n  const mainHeader = () => {\r\n    return (\r\n      <div className='main-image d-flex justify-content-center align-items-center flex-column'>\r\n        <h1 className='display-2 text-center text__style mb-3' style={{ zIndex: 2 }}>\r\n\t\t\t\t<i class=\"fas fa-dragon\"></i>DragonBook\r\n        </h1>\r\n        <div style={{ width: '60%', zIndex: 2 }}>\r\n          <InputGroup size='sm' className='mb-3'>\r\n            <Input\r\n\t\t\t\t\t\t\tclassName='input__style'\r\n              placeholder='Cerca libri'\r\n              value={query}\r\n              onChange={e => setQuery(e.target.value)}\r\n            />\r\n            <InputGroupAddon addonType='append'>\r\n              <Button className='input__style' color='info' onClick={handleSubmit}>\r\n                <i className='fas fa-search'></i>\r\n              </Button>\r\n            </InputGroupAddon>\r\n          </InputGroup>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleCards = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className='d-flex justify-content-center mt-3'>\r\n          <Spinner style={{ width: '3rem', height: '3rem' }} />\r\n        </div>\r\n      );\r\n    } else {\r\n      const items = cards.map((item, i) => {\r\n        let thumbnail = '';\r\n        if (item.volumeInfo.imageLinks) {\r\n          thumbnail = item.volumeInfo.imageLinks.thumbnail;\r\n        }\r\n\r\n        return (\r\n          <div className='col-lg-4 mb-3' key={item.id}>\r\n            <BookCard\r\n              thumbnail={thumbnail}\r\n              title={item.volumeInfo.title}\r\n              pageCount={item.volumeInfo.pageCount}\r\n              language={item.volumeInfo.language}\r\n              authors={item.volumeInfo.authors}\r\n              publisher={item.volumeInfo.publisher}\r\n              description={item.volumeInfo.description}\r\n              previewLink={item.volumeInfo.previewLink}\r\n              infoLink={item.volumeInfo.infoLink}\r\n            />\r\n          </div>\r\n        );\r\n      });\r\n      return (\r\n        <div className='container my-5'>\r\n          <div className='row'>{items}</div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div className='w-100 h-100 page-container'>\r\n      {mainHeader()}\r\n      {handleCards()}\r\n      <ToastContainer/>\r\n\t\t\t<Footer/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}